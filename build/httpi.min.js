!function(t){"use strict";var r=t.module("httpi",[]);r.factory("httpi",["$http","$q","HttpiResource",function e(t,r,n){function u(r){r.url=i(r.url,r.params,r.data);var e=o(r),n=t(r);return n.abort=e,n}function o(t){if(t.timeout)return a;var e=function(){e.deferred.resolve()};return e.deferred=r.defer(),t.timeout=e.deferred.promise,e}function i(t,r,e){return r=r||{},e=e||{},t=t.replace(/(\(\s*|\s*\)|\s*\|\s*)/g,""),t=t.replace(/:([a-z]\w*)/gi,function(t,n){return s(e,r,n)||""}),t=t.replace(/(^|[^:])[\/]{2,}/g,"$1/"),t=t.replace(/\/+$/i,"")}function a(){console&&console.warn&&console.warn("This request cannot be aborted because the [timeout] property was already being used.")}function s(t,r,e,n){for(var u=Array.prototype.slice.call(arguments),n=u.pop(),o=null;o=u.shift();)if(o.hasOwnProperty(n))return p(o,n)}function p(t,r){var e=t[r];return delete t[r],e}return u.resource=function(t){return new n(u,t)},u}]),r.factory("HttpiResource",function n(){function t(t,r){return this.http=t,this.url=r,this}return t.prototype={constructor:t,"delete":function(t){return t.method="delete",t.url=this.url,this.http(t)},get:function(t){return t.method="get",t.url=this.url,this.http(t)},head:function(t){return t.method="head",t.url=this.url,this.http(t)},jsonp:function(t){return t.method="jsonp",t.url=this.url,this.paramJsonpCallback(t),this.http(t)},paramJsonpCallback:function(t){var r="JSON_CALLBACK";if(-1===this.url.indexOf(r)){if(t.params){for(var e in t.params)if(t.params.hasOwnProperty(e)&&t.params[e]===r)return}else t.params={};t.params.callback=r}},post:function(t){return t.method="post",t.url=this.url,this.http(t)},put:function(t){return t.method="put",t.url=this.url,this.http(t)}},t})}(angular);